<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://kit.fontawesome.com/5514dc631b.js" crossorigin="anonymous"></script>
    <!-- <link rel="stylesheet" href="style.css" /> -->
    <title>Calorie One | Track Calorie</title>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap");

        /* Variables */
        :root {
            --primary-color: #df8931;
            --primary-hovered: rgba(223, 137, 49, 0.9);
            --secondary-color: #f5c16c;
            --disabled-color: #ccc;
            --alt-color: #a9a9a9;
            --med-color: #959595;
            --med-hovered: rgba(149, 149, 149, 0.9);
            --semi-med-color: #f5f5f5;
            --dark-color: #2f2f2f;
            --light-color: #ffffff;
            --warn-color: #e67d5d;
            --warn-hovered: rgba(223, 91, 49, 0.9);
            --font: "Open Sans", sans-serif;
        }

        /* Reset */
        *

        /* Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html,
        body {
            font-family: 'Open Sans', sans-serif;
            line-height: 1.4;
            background: #000;
            /* Black background color */
            color: #ffffff;
            /* White text color */
        }

        ul {
            list-style: none;
        }

        a {
            text-decoration: none;
            color: #fff;
            /* White link color */
        }

        /* Classes */
        .container {
            max-width: 60rem;
            margin: 0 auto;
            padding: 1rem;
        }

        .primary {
            color: #ff0000;
            /* Primary color */
        }

        .secondary {
            color: #e60a0a;
            /* Secondary color */
        }

        .light {
            color: #d41717;
            /* White color */
        }

        .bg-primary {
            background: #ab2f17;
            /* Primary background color */
        }

        .bg-secondary {
            background: #f01b0c;
            /* Secondary background color */
        }

        .bg-light {
            background: #ffffff;
            /* White background color */
        }

        .btn {
            display: inline-block;
            padding: 0.8rem 1rem;
            cursor: pointer;
            outline: none;
            border: none;
            border-radius: 8px;
            color: #fff;
            /* White text color */
            margin-top: 0.6rem;
            font-family: 'Open Sans', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }

        .btn-primary {
            background: #df3131;
            /* Primary button color */
        }

        .btn-primary:hover {
            background: rgba(244, 75, 75, 0.9);
            /* Primary button color on hover */
        }

        .btn-warn {
            background: #ee0808;
            /* Warning button color */
        }

        .btn-warn:hover {
            background: rgba(232, 9, 9, 0.9);
            /* Warning button color on hover */
        }

        .btn-med {
            background: #959595;
            /* Medium button color */
        }

        .btn-med:hover {
            background: rgba(149, 149, 149, 0.9);
            /* Medium button color on hover */
        }

        .btn-deactive {
            background: #ccc;
            /* Disabled button color */
            color: #959595;
            /* Medium text color */
            cursor: auto;
        }

        /* App styling */
        #main-header {
            margin-bottom: 1rem;
        }

        #input-box,
        #total-cal-contain {
            padding: 2rem 5rem;
            margin-bottom: 0.6rem;
            border-radius: 10px;
        }

        #input-box label {
            color: #a9a9a9;
            /* Alt color */
        }

        #input-box .btn-contain .btn-default-state {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #input-box .btn-contain .btn-default-state .btn {
            width: 45%;
        }

        #input-box .btn-edit-state {
            display: none;
        }

        #input-box .input-contain {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #input-box .input-contain .form-grp {
            position: relative;
            width: 45%;
            height: 4rem;
            overflow: hidden;
        }

        #input-box .input-contain .form-grp input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            outline: none;
            padding-top: 2rem;
            font-family: 'Open Sans', sans-serif;
            font-size: 0.9rem;
        }

        #input-box .input-contain .form-grp .label-contain {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            pointer-events: none;
            border-bottom: 2px solid #a9a9a9;
            /* Alt color */
        }

        #input-box .input-contain .form-grp .label-contain::after {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            height: 100%;
            width: 100%;
            transform: translateX(-100%);
            border-bottom: 2.4px solid #1f1e1d;
            /* Secondary color */
            transition: transform 0.4s ease;
        }

        #input-box .input-contain .form-grp .label-contain .label-name {
            position: absolute;
            bottom: 1px;
            left: 0;
            transition: all 0.4s ease;
        }

        #input-box .input-contain .form-grp input:focus+.label-contain:after,
        #input-box .input-contain .form-grp input:valid+.label-contain:after {
            transform: translateX(0);
        }

        #input-box .input-contain .form-grp input:focus+.label-contain .label-name,
        #input-box .input-contain .form-grp input:valid+.label-contain .label-name {
            color: #857e76;
            /* Primary color */
            transform: translateY(-30px);
            font-size: 0.8rem;
        }

        #input-box .btn-contain {
            margin-top: 1.5rem;
        }

        #total-cal-contain {
            text-align: center;
        }

        #total-cal-contain .lead {
            font-weight: 700;
            font-size: 1.3rem;
        }

        #item-lists {
            margin-top: 2rem;
        }

        #item-lists .item {
            padding: 1rem;
            margin-bottom: 0.4rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 10px;
        }

        #item-lists .item .edit-btn {
            cursor: pointer;
        }

        #item-lists .item .edit-btn i {
            pointer-events: none;
            font-size: 1.1rem;
        }

        #item-lists .item .edit-btn:hover i {
            color: #f5f5f5;
            /* Light color */
        }

        #item-lists .item p {
            font-weight: 600;
        }

        #item-lists .item p span {
            font-weight: 700;
        }

        /* Media queries */
        @media (max-width: 500px) {

            #input-box,
            #total-cal-contain {
                padding: 2rem;
            }

            .btn {
                padding: 0.6rem;
                font-size: 0.7rem;
            }

            #total-cal-contain .lead {
                font-size: 1rem;
            }

            #item-lists .item p {
                font-size: 0.8rem;
            }

            .logo a {
                font-size: 1.2rem;
            }
        }


        /* App styling */
        #main-header {
            margin-bottom: 1rem;
        }

        #input-box,
        #total-cal-contain {
            padding: 2rem 5rem;
            margin-bottom: 0.6rem;
            border-radius: 10px;
        }

        #input-box label {
            color: var(--alt-color);
        }

        #input-box .btn-contain .btn-default-state {
            /* display: none; */
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #input-box .btn-contain .btn-default-state .btn {
            width: 45%;
        }

        #input-box .btn-edit-state {
            display: none;
            /* display: flex; */
            justify-content: space-between;
            align-items: center;
        }

        #input-box .btn-edit-state .back-btn {
            width: 25%;
        }

        #input-box .btn-edit-state .btn-grp {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 45%;
        }

        #input-box .btn-edit-state .btn-grp .btn {
            width: 45%;
        }

        #input-box .input-contain {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #input-box .input-contain .form-grp {
            position: relative;
            width: 45%;
            height: 4rem;
            overflow: hidden;
        }

        #input-box .input-contain .form-grp input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            outline: none;
            padding-top: 2rem;
            font-family: var(--font);
            font-size: 0.9rem;
        }

        #input-box .input-contain .form-grp .label-contain {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            pointer-events: none;
            border-bottom: 2px solid var(--alt-color);
        }

        #input-box .input-contain .form-grp .label-contain::after {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            height: 100%;
            width: 100%;
            transform: translateX(-100%);
            border-bottom: 2.4px solid var(--secondary-color);
            transition: transform 0.4s ease;
        }

        #input-box .input-contain .form-grp .label-contain .label-name {
            position: absolute;
            bottom: 1px;
            left: 0;
            transition: all 0.4s ease;
        }

        #input-box .input-contain .form-grp input:focus+.label-contain:after,
        #input-box .input-contain .form-grp input:valid+.label-contain:after {
            transform: translateX(0);
        }

        #input-box .input-contain .form-grp input:focus+.label-contain .label-name,
        #input-box .input-contain .form-grp input:valid+.label-contain .label-name {
            color: var(--primary-color);
            transform: translateY(-30px);
            font-size: 0.8rem;
        }

        #input-box .btn-contain {
            margin-top: 1.5rem;
        }

        #total-cal-contain {
            text-align: center;
        }

        #total-cal-contain .lead {
            font-weight: 700;
            font-size: 1.3rem;
        }

        #item-lists {
            margin-top: 2rem;
        }

        #item-lists .item {
            padding: 1rem;
            margin-bottom: 0.4rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 10px;
        }

        #item-lists .item .edit-btn {
            cursor: pointer;
        }

        #item-lists .item .edit-btn i {
            pointer-events: none;
            font-size: 1.1rem;
        }

        #item-lists .item .edit-btn:hover i {
            color: var(--semi-med-color);
        }

        #item-lists .item p {
            font-weight: 600;
        }

        #item-lists .item p span {
            font-weight: 700;
        }

        /* Media queries */
        @media (max-width: 500px) {

            #input-box,
            #total-cal-contain {
                padding: 2rem;
            }

            .btn {
                padding: 0.6rem;
                font-size: 0.7rem;
            }

            #total-cal-contain .lead {
                font-size: 1rem;
            }

            #item-lists .item p {
                font-size: 0.8rem;
            }

            .logo a {
                font-size: 1.2rem;
            }
        }
    </style>
</head>

<body>
    <!-- Container for the app -->
    <div class="container">
        <!-- Header -->
        <header id="main-header">
            <h2 class="logo">
                <a href="#" class="secondary"><span class="primary">Calorie</span>Track</a>
            </h2>
        </header>
        <!-- Input box -->
        <section id="input-box" class="bg-light">
            <!-- Input contain -->
            <div class="input-contain">
                <!-- Item field -->

                <div class="form-grp">
                    <input type="text" name="item" id="item-field" class="item-field" required />
                    <label class="label-contain">
                        <span class="label-name">Item</span>
                    </label>
                </div>

                <!-- Calories field -->

                <div class="form-grp">
                    <input type="number" name="calories" id="calories-field" class="calories-field" required />
                    <label class="label-contain">
                        <span class="label-name">Calories</span>
                    </label>
                </div>
            </div>
            <!-- Buttons contain -->
            <div class="btn-contain">
                <!-- Buttons on default state -->
                <div class="btn-default-state">
                    <!-- Add button -->
                    <button class="btn btn-primary add-btn">Add Item</button>
                    <!-- Reset button -->
                    <button class="btn btn-med reset-btn">Reset</button>
                </div>
                <!-- Buttons on edit state -->
                <div class="btn-edit-state">
                    <div class="btn-grp">
                        <!-- Update button -->
                        <button class="btn btn-primary update-btn">Update</button>
                        <!-- Delete button -->
                        <button class="btn btn-warn delete-btn">Delete</button>
                    </div>
                    <!-- Back button -->
                    <button class="btn btn-med back-btn">Back</button>
                </div>
            </div>
        </section>

        <!-- Total calories output tab -->
        <section id="total-cal-contain" class="bg-light">
            <p class="lead secondary">
                Total Calories : <span id="total-cal">0</span> kcal
            </p>
        </section>

        <!-- Item lists with their calories -->
        <ul id="item-lists"></ul>
    </div>
    <script>// Selecting elements from the DOM
        const itemField = document.getElementById("item-field");
        const caloriesField = document.getElementById("calories-field");
        const addBtn = document.querySelector(".add-btn");
        const resetBtn = document.querySelector(".reset-btn");
        const updateBtn = document.querySelector(".update-btn");
        const deleteBtn = document.querySelector(".delete-btn");
        const backBtn = document.querySelector(".back-btn");
        const totalCalories = document.getElementById("total-cal");
        const itemList = document.getElementById("item-lists");

        let isEditState = false;
        let currentItem = null;

        // Event listener for adding an item
        addBtn.addEventListener("click", addItem);

        // Event listener for resetting fields
        resetBtn.addEventListener("click", resetFields);

        // Event listener for update button
        updateBtn.addEventListener("click", updateItem);

        // Event listener for delete button
        deleteBtn.addEventListener("click", deleteItem);

        // Event listener for back button
        backBtn.addEventListener("click", () => {
            toggleEditState(false);
            resetFields();
        });

        // Function to add an item
        function addItem(event) {
            event.preventDefault();

            const item = itemField.value.trim();
            const calories = parseInt(caloriesField.value);

            if (!item || isNaN(calories) || calories <= 0) {
                alert("Please enter valid values for item and calories.");
                return;
            }

            const newItem = {
                id: generateId(),
                item,
                calories,
            };

            if (isEditState) {
                updateExistingItem(newItem);
            } else {
                // Append new item to the list
                const itemElement = createItemElement(newItem);
                itemList.appendChild(itemElement);
            }

            calculateTotalCalories();
            resetFields();
        }

        // Function to generate a unique ID
        function generateId() {
            return Math.random().toString(36).substr(2, 9);
        }

        // Function to create an item element
        function createItemElement(newItem) {
            const li = document.createElement("li");
            li.classList.add("item");
            li.innerHTML = `
            <span>${newItem.item}</span>
            <span>${newItem.calories} kcal</span>
            <div>
              <button class="edit-btn" onclick="editItem('${newItem.id}')"><i class="fas fa-edit"></i></button>
              <button class="delete-btn" onclick="deleteItem('${newItem.id}')"><i class="fas fa-trash-alt"></i></button>
            </div>
          `;
            li.setAttribute("data-id", newItem.id);
            return li;
        }

        // Function to edit an existing item
        function editItem(id) {
            const selectedItem = document.querySelector(`li[data-id="${id}"]`);
            const selectedName =
                selectedItem.querySelector("span:first-child").textContent;
            const selectedCalories = parseInt(
                selectedItem.querySelector("span:nth-child(2)").textContent
            );

            itemField.value = selectedName;
            caloriesField.value = selectedCalories;

            toggleEditState(true);
            currentItem = {
                id,
                name: selectedName,
                calories: selectedCalories,
            };
        }

        // Function to update an existing item
        function updateItem(event) {
            event.preventDefault();

            const updatedItem = {
                id: currentItem.id,
                item: itemField.value.trim(),
                calories: parseInt(caloriesField.value),
            };

            if (
                !updatedItem.item ||
                isNaN(updatedItem.calories) ||
                updatedItem.calories <= 0
            ) {
                alert("Please enter valid values for item and calories.");
                return;
            }

            updateExistingItem(updatedItem);
            calculateTotalCalories();
            resetFields();
        }

        // Function to update an existing item in the list
        function updateExistingItem(updatedItem) {
            const selectedItem = document.querySelector(
                `li[data-id="${updatedItem.id}"]`
            );
            selectedItem.innerHTML = `
            <span>${updatedItem.item}</span>
            <span>${updatedItem.calories} kcal</span>
            <div>
              <button class="edit-btn" onclick="editItem('${updatedItem.id}')"><i class="fas fa-edit"></i></button>
              <button class="delete-btn" onclick="deleteItem('${updatedItem.id}')"><i class="fas fa-trash-alt"></i></button>
            </div>
          `;
            currentItem = null;
            toggleEditState(false);
        }

        // Function to delete an item
        function deleteItem(id) {
            const selectedItem = document.querySelector(`li[data-id="${id}"]`);
            selectedItem.remove();
            calculateTotalCalories();
            resetFields();
        }

        // Function to calculate total calories
        function calculateTotalCalories() {
            let total = 0;
            const itemElements = itemList.querySelectorAll("li");

            itemElements.forEach((item) => {
                const calories = parseInt(
                    item.querySelector("span:nth-child(2)").textContent
                );
                total += calories;
            });

            totalCalories.textContent = total;
        }

        // Function to reset input fields
        function resetFields() {
            itemField.value = "";
            caloriesField.value = "";
        }

        // Function to toggle edit state
        function toggleEditState(state) {
            isEditState = state;
            const defaultState = document.querySelector(".btn-default-state");
            const editState = document.querySelector(".btn-edit-state");

            if (state) {
                defaultState.style.display = "none";
                editState.style.display = "block";
            } else {
                defaultState.style.display = "block";
                editState.style.display = "none";
            }
        }
    </script>
</body>

</html>